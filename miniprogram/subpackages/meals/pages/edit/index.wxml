<view class="page">
  <view class="card">
    <view class="row">
      <view class="label">菜品名称 *</view>
      <input class="input" value="{{name}}" data-key="name" bindinput="onInput" />
    </view>

    <view class="row">
      <view class="label">分类</view>
      <input class="input" value="{{category}}" data-key="category" bindinput="onInput" />
    </view>

    <view class="row">
      <view class="label">子分类</view>
      <input class="input" value="{{subcategory}}" data-key="subcategory" bindinput="onInput" />
    </view>

    <view class="row">
      <view class="label">描述</view>
      <textarea class="textarea" value="{{description}}" data-key="description" bindinput="onInput" />
    </view>

    <view class="row">
      <view class="label">标签（逗号分隔）</view>
      <input class="input" value="{{tagsText}}" data-key="tagsText" bindinput="onInput" />
    </view>

    <view class="row">
      <view class="label">步骤（每行一个）</view>
      <textarea class="textarea" value="{{stepsText}}" data-key="stepsText" bindinput="onInput" />
    </view>

    <view class="row">
      <view class="label">食材（JSON 数组）</view>
      <textarea class="textarea mono" value="{{ingredientsText}}" data-key="ingredientsText" bindinput="onInput" />
    </view>

    <view class="row">
      <view class="label">图片</view>
      <view class="imgrow">
        <image class="preview" mode="aspectFill" src="{{imageFilePath || imageUrl}}" wx:if="{{imageFilePath || imageUrl}}" />
        <view class="preview placeholder" wx:else></view>
        <button class="pick" bindtap="chooseImage">选择图片</button>
      </view>
    </view>

    <button class="save" bindtap="onSave" loading="{{saving}}">保存</button>
  </view>
</view>
